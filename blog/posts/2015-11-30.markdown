---
author: moongift 
date: 2015-11-30
id: Javascript-Unit-Test-Frameworks
title: "Javascript Unit Test Frameworks"
category: monaca
tags: monaca, javascript, testing
---


We've introduced some advantages using Monaca LocalKit in [this blog post]().
One of the big advantages we pointed out was ease of automated testing when you use Monaca LocalKit.
Today, we are introducing some of the JavaScript unit test frameworks.

<!-- LocalKitを使っているなら自動テストも簡単。JavaScriptテストフレームワークまとめ -->
<!-- 
LocalKitを使うメリットの一つにテストフレームワークが容易に使えるようになるという点が挙げられます。そこで今回は開発したJavaScriptコードでユニットテストを実現するためのフレームワークを紹介します。 -->


<!-- more -->



#### [Jasmine: Behavior-Driven JavaScript](http://jasmine.github.io/)

![Jasmine](/blog/content/images/2015/Nov/monaca-javascript-test-frameworks-1.png)

Jasmine is a testing framework that has a similar syntax as RSpec. For example:
<!-- JasmineはRSecに似た記述のテスト文法をもったテストフレームワークとなっています。例えば次のように記述します。 -->

```javascript
describe("CallTracker", function() {
  it("tracks that it was called when executed", function() {
    var callTracker = new j$.CallTracker();
 
    expect(callTracker.any()).toBe(false);
 
    callTracker.track();
 
    expect(callTracker.any()).toBe(true);
  });
 
  it("tracks that number of times that it is executed", function() {
    var callTracker = new j$.CallTracker();
 
    expect(callTracker.count()).toEqual(0);
 
    callTracker.track();
 
    expect(callTracker.count()).toEqual(1);
  });
  :
});
```

In here, we are comparing returned values and expected values with `expect` function.
<!-- expectで取得される値と期待される値とを比較する形になります。 -->

#### [QUnit](https://qunitjs.com/)


![QUnit](/blog/content/images/2015/Nov/monaca-javascript-test-frameworks-2.png)

QUnit framework has been around for a while. You might be familiar with their result screen on a web browser.
Testing code is as follows:
<!-- QUnitは長く知られているユニットテストフレームワークになります。HTMLの結果画面を見たことがある方も多いのではないでしょうか。テストコードは次のように書きます。 -->


```javascript
QUnit.test("prettydate basics", function( assert ) {
  var now = "2008/01/28 22:25:00";
  assert.equal(prettyDate(now, "2008/01/28 22:24:30"), "just now");
  assert.equal(prettyDate(now, "2008/01/28 22:23:30"), "1 minute ago");
  :
});
```

QUnit was originally developed as part of jQuery. But a rewrite in 2009 made QUnit runs completely standalone.
<!-- 元々jQueryから派生したツールと言うこともあり、jQuery必須となっています。 -->


#### [alexyoung/riotjs](https://github.com/alexyoung/riotjs)

riotjs is a JavaScript implimentation of Riot.
<!-- riotjsはRubyのテストフレームワークRiotのJavaScript版です。テストは次のように記述します。
 -->

```javascript
Riot.run(function() {
  context('basic riot functionality', function() {
    given('some simple equality tests', function() {
      asserts('a simple truth test should return true', true).isTrue();
      asserts('isNull is null', null).isNull();
    });
 
    given('another context', function() {
      asserts('equals should compare strings as expected', 'test string').equals('test string');
    });
 
    given('a context concerned with functions', function() {
      asserts('asserts() should allow functions to be compared', function() {
        return 'test string';
      }).equals('test string');
    });
  });
 
  given('yet another context', function() {
    asserts('equals should compare strings as expected', 'test string').equals('test string');
  });
});
```

It will run on a browser, Rhino, or Node.
<!-- ブラウザの他、RhinoやNodeでも動作します。 -->


#### [Unit testing framework for Javascript - Unit JS](http://unitjs.com/)

![Unit.js](/blog/content/images/2015/Nov/monaca-javascript-test-frameworks-3.png)


Unit.js also runs on a browser or Node. It has it's own unique syntax.
<!-- Unit.jsもWebブラウザ、Nodeの両方で動作します。書き方が独特かも知れません。 -->


```javascript
var test = require('unit.js');

var obj = {
  message : 'hello',
  name    : 'Nico'
};

var str = 'Hello world';

// By example, provided by Express framework and other modules.
var req = {
  headers: {
    'content-type': 'application/json'
  }
};

test.object(obj).hasProperty('name');
test.object(obj).hasProperty('message', 'hello');
test.string(str).startsWith('Hello');
test.string(str).contains('world');
test.string(str).match(/[a-zA-Z]/);
test.value(req).hasHeader('content-type');
test.value(req).hasHeader('content-type', 'application/json');
// or
test.value(req).hasHeaderJson();
```

There is a `test` variable contains Unit.js module. From that variable, you can do various testings like properties, length, RegEx and so on.
<!-- testというオブジェクトがあり、その下に変数の型を指定してプロパティや文字の長さ、正規表現などでチェックを行います。 -->


#### [nathansobo/screw-unit](https://github.com/nathansobo/screw-unit)

Screw.Unit is Behavior-Driven Testing framework for JavaScript.  It has familiar RSpec-like and readable syntax.
<!-- Screw.UnitはBDDフレームワーク（ビヘイビア駆動開発）になります。RSpecに似た記述で、より仕様が分かりやすい文章を使ってテストを記述します。 -->


```javascript
describe("a nested describe", function() {
  var invocations = [];
 
  before(function() {
    invocations.push("before");
  });
 
  describe("a doubly nested describe", function() {
    before(function() {
      invocations.push('inner before');
    });
 
    it("runs befores in all ancestors prior to an it", function() {
      expect(invocations).to(equal, ["before", "inner before"]);
    });
  });
});
```

#### [Protractor - end to end testing for AngularJS](http://www.protractortest.org/#/)


![Protractor](/blog/content/images/2015/Nov/monaca-javascript-test-frameworks-4.png)

Protractor is a E2E test framework for AngularJS. Protractor will be a great choice if you are developing AngularJS application.
<!-- ProtractorはAngularJS用のE2Eテストフレームワークになります。専用ということもありますのでAngularJSアプリの場合はProtractorを使うのが良さそうです。 -->


```javascript
describe('angularjs homepage todo list', function() {
  it('should add a todo', function() {
    browser.get('https://angularjs.org');
 
    element(by.model('todoList.todoText')).sendKeys('write first protractor test');
    element(by.css('[value="add"]')).click();
 
    var todoList = element.all(by.repeater('todo in todoList.todos'));
    expect(todoList.count()).toEqual(3);
    expect(todoList.get(2).getText()).toEqual('write first protractor test');
 
    // You wrote your first test, cross it off the list
    todoList.get(2).element(by.css('input')).click();
    var completedAmount = element.all(by.css('.done-true'));
    expect(completedAmount.count()).toEqual(2);
  });
});
```

#### [Mocha - the fun, simple, flexible JavaScript test framework](http://mochajs.org/)

![Mocha](/blog/content/images/2015/Nov/monaca-javascript-test-frameworks-5.png)

Mocha is JavaScript test framework made testing simple and fun. It runs on a browser and Node. Syntax is similar to Jasmine.
<!-- Mochaはシンプルなテストフレームワークになっています。ブラウザでもNodeでも動作します。コードはJasmineなどに近いものになります。
 -->

```javascript
var assert = require("assert")
describe('Array', function() {
  describe('#indexOf()', function () {
    it('should return -1 when the value is not present', function () {
      assert.equal(-1, [1,2,3].indexOf(5));
      assert.equal(-1, [1,2,3].indexOf(0));
    });
  });
});
```

### Conclusion


Make sure to cover a variety of test to deliver your high-quality applications with these testing frameworks.
Many of the frameworks we discussed here works with a browser and Node. So do unit test over JavaScript implementation  when developing Monaca application.
Protractor will be a great choice if you are developing apps with our Onsen UI 1.x. 

<!-- 今回紹介したフレームワークはWebブラウザやNodeで実行するものが多くなっています。そのため、MonacaアプリのJavaScript実装部分においてユニットテストができるでしょう。 -->
<!-- もしOnsen UIを使われているならばProtractorは良い選択肢になるかと思います。品質高いアプリを目指し、しっかりとテストを作り込んでください。 -->
