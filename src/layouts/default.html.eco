<!DOCTYPE html>
<html class="<% if @lang == 'ja': %>lang-ja<% else: %>lang-en<% end %>">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title><%= @getPreparedTitle() %></title>
  <meta name="description" content="<%= @getPreparedDescription() %>" />
  <meta name="keywords" content="<%= @getPreparedKeywords() %>" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <% if @docCategory == 'css': %>
  <link rel="stylesheet" href="<%= @rootUrl %>reference/onsen-css-components.css">
  <link rel="stylesheet" href="<%= @rootUrl %>OnsenUI/build/css/ionicons/css/ionicons.min.css">
  <link rel="stylesheet" href="<%= @rootUrl %>OnsenUI/build/css/font_awesome/css/font-awesome.min.css">
  <% end %>

  <link rel="stylesheet" href="<%= @rootUrl %>css/style.css">
  <link rel="stylesheet" href="<%= @rootUrl %>css/highlight_xcode.css">
  <link rel="stylesheet" href="<%= @rootUrl %>font-awesome/css/font-awesome.min.css">
  <link href='http://fonts.googleapis.com/css?family=Open Sans:400,500,600' rel='stylesheet' type='text/css'>


  <link rel="shortcut icon" href="<%= @rootUrl %>icons/favicon.ico" />

  <% if @hasAlternateLangPage(): %>
  <link rel="alternate" href="<%= @getAlternateLangPage() %>" hreflang="<%= @getAlternateLang() %>" />
  <% end %>

  <script src="/vendor/jquery.js"></script>
  <script src="/vendor/jquery.lazyloadxt.min.js"></script>

  <script src="//use.typekit.net/vwb2tfq.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

</head>

<body id="<%- @page %>">
 <a id="github-ribbon" href="https://github.com/OnsenUI/OnsenUI"><img style="position: absolute; top: 48px; right: 0; border: 0; z-index: 2;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

  <%- @partial('header.html.eco') %>

  <section class="content-container clearfix">

    <% if @toc: %>

    <aside class="content-info content-info-page">
      <div class="toc-title">Table Of Contents</div>
      <%- @partial('toc.html.eco', {tocItems: @toc}) %>
    </aside>

    <% else if @reference: %>
    <aside class="content-info">

      <div class="toc-title<% if @docCategory == 'guides': %> toc-title-active<% end %>"><a class="toggle-toc">Guides</a></div>
      <ul class="toc toc-1" <% if @docCategory != 'guides': %>style="display: none"<% end %>>
        <% for guide in @guides: %>
        <li class="toc-item toc-1-item">
          <a href="/reference/<%= guide.name %>.html" class="toc-link toc-1-link<% if @name == guide.name: %> current<% end %>">
            <%- guide.name %>
          </a>
        </li>
        <% end %>
      </ul>

      <div class="toc-title<% if @docCategory == 'css': %> toc-title-active<% end %>"><a class="toggle-toc" href="/reference/css.html">CSS</a></div>
      <ul class="toc toc-1" <% if @docCategory != 'css': %>style="display: none"<% end %>>
        <% for doc in @cssDocs: %>
        <li class="toc-item toc-1-item">
          <a href="/reference/css.html#<%= @slug(doc.yaml.name) %>" class="toc-link toc-1-link">
            <%- doc.yaml.name %>
          </a>
        </li>
        <% end %>
      </ul>

      <div class="toc-title<% if @docCategory == 'js': %> toc-title-active<% end %>"><a class="toggle-toc">JavaScript</a></div>
      <ul class="toc toc-1" <% if @docCategory != 'js': %>style="display: none"<% end %>>
        <% for object in @objects: %>
        <li class="toc-item toc-1-item">
          <a href="/reference/<%= object.name %>.html" class="toc-link toc-1-link<% if @name == object.name: %> current <% end %>">
            <%- object.name %>
          </a>
        </li>
        <% end %>
        <% for component in @components: %>
        <li class="toc-item toc-1-item">
          <a href="/reference/<%= component.name %>.html" class="toc-link toc-1-link<% if @name == component.name: %> current<% end %>">
            <%- component.name %>
          </a>
        </li>
        <% end %>
      </ul>

      <div class="toc-title<% if @docCategory == 'patterns': %> toc-title-active<% end %>"><a href="/patterns.html" class="toggle-toc">Page Patterns</a></div>
      <ul class="toc toc-1" <% if @docCategory != 'patterns': %>style="display: none"<% end %>>
        <% for pattern in @patterns: %>
        <li class="toc-item toc-1-item">
          <a href="/pattern-<%= pattern %>" class="toc-link toc-1-link">
            <%= pattern %>
          </a>
        </li>
        <% end %>
      </ul>

    </aside>
    <% end %>

    <div class="content">
      <%- @contents %>

      <% if @needHelp: %>
        <%- @partial('need_help.html.eco') %>
      <% end %>
    </div>
  </section>

  <%- @partial('footer.html.eco') %>

  <script src="<%= @rootUrl %>scripts/sticky.js"></script>
  <script>

  // iframe lazy loader
  $(function() {
    $.extend($.lazyLoadXT, {
      autoInit: false,
      edgeY: 0,
      srcAttr: 'data-src',
      throttle: 1000
    });

    var iframe = $('iframe');
    if (iframe.length > 0) {
      iframe.lazyLoadXT();
    }
  });

  // toggle menu
  $(function() {
    $('.toggle-toc').click(function(event) {
      var toggleTarget = $(event.target).parent().next();
      $(event.target).parent().siblings('.toc').each(function() {
        if (toggleTarget[0] !== this) {
          $(this).hide();
        }
      });

      toggleTarget.toggle();
      $('.toc-title').removeClass('toc-title-active');

      if (toggleTarget.css('display') !== 'none') {
        $(this).parent().addClass('toc-title-active');
      }

      event.preventDefault();
      return false;
    });
  });

  // sticky menu
  $(function() {
    $('.content-info').sticky({
      topSpacing : 0, 
      bottomSpacing : $('.footer-container').height() + 60
    });
  });

  </script>
  <script src="/scripts/navigation_highlighter.js"></script>
  <script src="/vendor/highlight.min.js"></script>
</body>
</html>
