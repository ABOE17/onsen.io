<!DOCTYPE html>
<html class="<% if @lang == 'ja': %>lang-ja<% else: %>lang-en<% end %>">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title><%= @getPreparedTitle() %></title>
  <meta name="description" content="<%= @getPreparedDescription() %>" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <% if @page == 'css': %>
  <link rel="stylesheet" href="<%= @rootUrl %>v2/OnsenUI/css/ionicons/css/ionicons.min.css">
  <link rel="stylesheet" href="<%= @rootUrl %>v2/OnsenUI/css/font_awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="<%= @rootUrl %>v2/OnsenUI/css/material-design-iconic-font/css/material-design-iconic-font.min.css">

  <link rel="stylesheet" href="<%= @rootUrl %>v2/reference/onsen-css-components.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,300italic,300,100italic,400italic,500,700,500italic,700italic,900,900italic" rel="stylesheet" type="text/css">
  <% end %>

  <link rel="stylesheet" href="<%= @rootUrl %>css/main.css">
  <link rel="stylesheet" href="<%= @rootUrl %>font-awesome/css/font-awesome.min.css">

  <link rel="shortcut icon" href="<%= @rootUrl %>icons/favicon.ico" />

  <meta property="og:type" content="website" />
  <meta property="og:title" content="<%= @title %>" />
  <meta property="og:site_name" content="Onsen UI" />
  <meta property="og:url" content="<%= @site.url %>/<%= @path %>" />
  <meta property="og:image" content="<%= @site.url %>/images/logo/onsen_with_text.png" />

  <% if @hasAlternateLangPage(): %>
  <link rel="alternate" href="<%= @getAlternateLangPage() %>" hreflang="<%= @getAlternateLang() %>" />
  <% end %>

  <script defer src="/vendor/jquery.js"></script>

  <script src="//use.typekit.net/bys8jdj.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <script src="scripts/popup.js"></script>

  <script>
    window.SITE_ENV = {
      lang: <% if @lang == 'en': %>'en'<% else: %>'ja'<% end %>,
      hasAlternatePage: <% if @hasAlternateLangPage(): %>true<% else: %>false<% end %>
    };
  </script>
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:<% if @lang == 'en': %>100912<% else: %>100914<% end %>,hjsv:5};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</head>

<body id="<%- @page %>" class="design-2016">

  <%- @partial('main-nav.html.eco') %>
  <%- @partial('header.html.eco') if @header != false %>

  <% if @toc: %>
    <aside class="content-info content-info-page">
      <div class="toc-title toc-title-no-toggle">Table Of Contents</div>
      <%- @partial('toc.html.eco', {tocItems: @toc}) %>
    </aside>

    <div class="content">
      <%- @contents %>
      <%- @partial('need_help.html.eco') if @needHelp %>
    </div>

  <% else if @reference: %>
    <aside class="content-info">

      <div class="toc-title"><a href="/guide/overview.html">Onsen UI Guide</a></div>

      <div class="toc-title<% if @page == 'css': %> toc-title-active<% end %>"><a href="/reference/css.html">CSS</a></div>

      <ul class="toc toc-1<% if @page == 'css': %> content-info-page<% end %>"<% if @page != 'css': %> style="display: none"<% end %>>
        <%- @partial('toc.html.eco', {tocItems: @cssToc, base: if @page == 'css' then '' else '/reference/css.html'}) %>
      </ul>

      <div class="toc-title<% if @docCategory == 'js': %> toc-title-active<% end %>"><a href="/reference/javascript.html">JavaScript</a></div>

      <ul class="toc toc-1" <% if @docCategory != 'js': %>style="display: none"<% end %>>
        <% for category, docs of @componentCategoryDict: %>
        <li class="toc-item toc-1-item">
          <a href="/reference/<%= docs[0].name %>.html" class="toc-link toc-1-link"><%- @titlize(category) %></a>
          <ul class="toc toc-2"<% if @componentCategory and @componentCategory.indexOf(category) != -1 : %> style="display: block;"<% end %>>
          <% for doc in docs: %>
            <li class="toc-item toc-2-item">
              <a href="/reference/<%= doc.name %>.html" class="toc-link toc-2-link<% if @name == doc.name: %> current<% end %>"><%- doc.name %></a>
            </li>
          <% end %>
          </ul>
        </li>
        <% end %>
      </ul>

      <div class="toc-title<% if @docCategory == 'patterns': %> toc-title-active<% end %>"><a href="/patterns.html">Page Patterns</a></div>

      <ul class="toc toc-1" <% if @docCategory != 'patterns': %>style="display: none"<% end %>>
        <% for pattern in @patterns: %>
        <li class="toc-item toc-1-item">
          <a href="/pattern-<%= pattern %>" class="toc-link toc-1-link<% if @patternName == pattern: %> current<% end %>">
            <%= @renderPatternName(pattern) %>
          </a>
        </li>
        <% end %>
      </ul>

    </aside>

    <div class="content">
      <%- @contents %>
      <%- @partial('need_help.html.eco') if @needHelp %>
    </div>

  <% else: %>
    <%- @contents %>
    <%- @partial('need_help.html.eco') if @needHelp %>
  <% end %>


  <%- @partial('footer.html.eco') %>

  <%- @partial('popup.html.eco') %>

  <script defer src="/vendor/jquery.lazyloadxt.min.js"></script>
  <script defer src="/scripts/default.js"></script>
  <script src="/vendor/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

 </body>
 </html>